# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- none

pool:
  vmImage: ubuntu-latest

steps:
- task: AzureCLI@2
  inputs:
    azureSubscription: 'Static-Web-Connection' # need new connection (proj setting)
    scriptType: bash
    scriptLocation: inlineScript
    inlineScript: |
      az deployment sub create --location eastus --template-file Static-Web-Infrastructure/CDNStaticWebsite.bicep
# I have added the 3 subscription IDs as parameters to this deployment, you can find / modify their values in the variables tab - Raymond
# Old Command - az deployment sub create --name $(DeploymentName) --location $(Region) --template-file $(templateFile) --parameters gssSubscriptionId=$(gssSubID) hubSubscriptionId=$(hubSubID) landingZoneSubscriptionId=$(lzSubID)
